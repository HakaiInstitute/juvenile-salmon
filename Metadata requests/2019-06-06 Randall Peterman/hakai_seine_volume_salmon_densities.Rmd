---
title: "calculate salmon densities"
author: "Brett"
date: "06/06/2019"
output: html_document
---

```{r setup, include=FALSE}
library(tidyverse)
library(here)
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
data <- readxl::read_xls(here("Metadata requests", "2019-06-06 Randall Peterman", "data", "2019-04-27_Randall_Peterman_jsp_timeseries_catch_statistics.xls"), sheet = "2019-04-27_Randall_Peterman_jsp")
```

```{r}

# calculate volume of JSP seine net assuming perfect cylinder. Units in metres.
net_length <- 72
net_depth <- 9
net_radius <- (72/pi)/2
net_vol = pi * net_radius^2 * net_depth

data <- data %>% 
  mutate(Sockeye_density = Sockeye / net_vol) %>% 
  mutate(Pink_density = Pink / net_vol) %>% 
  mutate(Chum_density = Chum / net_vol) %>% 
  mutate(Coho_density = Coho / net_vol)

write_csv(data, here::here("Metadata requests", "2019-06-06 Randall Peterman", "data", "2019-06-06 Hakai_JSP_CSAS_Sockeye_Densities.csv"))

```
